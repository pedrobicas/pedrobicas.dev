/* Estilização avançada com animações fluidas, efeitos 3D e interatividade */
@import '../../portifolio.component.scss';

$accent: var(--accent);
$accent-light: var(--accent-light);
$text-primary: var(--text-primary);
$text-secondary: var(--text-secondary);
$bg-dark: #000;

// Mixins aprimorados para efeitos visuais
@mixin glass-morphism($opacity: 0.06, $blur: 12px) {
  background: rgba(255,255,255,$opacity);
  backdrop-filter: blur($blur);
  border: 1px solid rgba(255,255,255,0.05);
  box-shadow: 
    0 8px 32px rgba(0,0,0,0.1),
    0 2px 8px rgba(0,0,0,0.05),
    inset 0 1px 1px rgba(255,255,255,0.03);
}

@mixin floating-animation($duration: 6s, $distance: 10px) {
  animation: floating $duration ease-in-out infinite;
  @keyframes floating {
    0% { transform: translateY(0) rotate(0deg); }
    25% { transform: translateY(-$distance/2) rotate(1deg); }
    50% { transform: translateY(-$distance) rotate(0deg); }
    75% { transform: translateY(-$distance/2) rotate(-1deg); }
    100% { transform: translateY(0) rotate(0deg); }
  }
}

@mixin neon-glow($color, $intensity: 1) {
  box-shadow: 
    0 0 5px rgba($color, 0.2 * $intensity),
    0 0 10px rgba($color, 0.1 * $intensity),
    0 0 20px rgba($color, 0.05 * $intensity);
}

@mixin particle-field($count: 20) {
  position: relative;
  overflow: hidden;
  
  &::before {
    content: '';
    position: absolute;
    inset: 0;
    z-index: -1;
    opacity: 0.4;
    
    @for $i from 1 through $count {
      $size: random(4) + 1px;
      $top: random(100) * 1%;
      $left: random(100) * 1%;
      $delay: random(5) * 1s;
      $duration: (random(10) + 5) * 1s;
      
      &:nth-child(#{$i}) {
        box-shadow: 
          #{$left} #{$top} $size rgba($accent, 0.8),
          #{$left + random(20) - 10}px #{$top + random(20) - 10}px #{$size - 0.5px} rgba($accent-light, 0.6);
        animation: particle-twinkle $duration $delay infinite alternate;
      }
    }
  }
  
  @keyframes particle-twinkle {
    0%, 100% { opacity: 0.4; }
    50% { opacity: 0.8; }
  }
}

/* Layout base com efeitos visuais avançados */
.experience-section {
  position: relative;
  min-height: 100vh;
  width: 100%;
  background: $bg-dark;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 2rem 1rem;
  overflow: hidden;
  perspective: 1500px;
  @include particle-field(30);
  
  /* Container de partículas flutuantes */
  .particle-container {
    position: absolute;
    inset: 0;
    z-index: -1;
    overflow: hidden;
    pointer-events: none;
    
    .floating-particle {
      position: absolute;
      background: linear-gradient(135deg, $accent-light, transparent);
      border-radius: 50%;
      animation: floatingParticle 20s infinite ease-in-out alternate;
      opacity: 0.1;
      
      &:nth-child(even) {
        background: linear-gradient(135deg, $accent, transparent);
        animation-direction: alternate-reverse;
      }
    }
  }
  
  /* Efeito de grid pulsante */
  .grid-effect {
    position: absolute;
    inset: 0;
    z-index: -2;
    background-image: 
      linear-gradient(rgba($accent, 0.05) 1px, transparent 1px),
      linear-gradient(90deg, rgba($accent, 0.05) 1px, transparent 1px);
    background-size: 40px 40px;
    background-position: center center;
    transform: perspective(1000px) rotateX(60deg) scale(1.5);
    transform-origin: center center;
    opacity: 0.3;
    animation: gridPulse 8s infinite alternate ease-in-out;
  }
  
  @keyframes floatingParticle {
    0% {
      transform: translate(0, 0) rotate(0deg) scale(1);
    }
    50% {
      transform: translate(30px, -20px) rotate(180deg) scale(1.2);
    }
    100% {
      transform: translate(-20px, 30px) rotate(360deg) scale(0.8);
    }
  }
  
  /* Elementos de fundo animados e aprimorados */
  &::before, &::after, &::nth-child(3) {
    content: '';
    position: absolute;
    border-radius: 50%;
    filter: blur(80px);
    opacity: 0.15;
    z-index: 0;
    pointer-events: none;
    mix-blend-mode: screen;
  }

  &::before {
    width: 45vw;
    height: 45vw;
    background: radial-gradient(circle, $accent, transparent 70%);
    top: -15%;
    left: -15%;
    @include floating-animation(18s, 25px);
    animation-delay: -2s;
  }

  &::after {
    width: 40vw;
    height: 40vw;
    background: radial-gradient(circle, $accent-light, transparent 70%);
    bottom: -15%;
    right: -10%;
    @include floating-animation(20s, 30px);
    animation-delay: -5s;
  }
  
  /* Elemento de fundo adicional para mais dinamismo */
  &::nth-child(3) {
    content: '';
    width: 30vw;
    height: 30vw;
    background: radial-gradient(circle, rgba($accent-light, 0.8), transparent 70%);
    top: 60%;
    left: 60%;
    @include floating-animation(22s, 20px);
    animation-delay: -8s;
    filter: blur(100px);
    opacity: 0.1;
  }
  
  /* Efeito de grid de fundo */
  &::nth-child(4) {
    content: '';
    position: absolute;
    inset: 0;
    background-image: 
      linear-gradient(to right, rgba(255,255,255,0.03) 1px, transparent 1px),
      linear-gradient(to bottom, rgba(255,255,255,0.03) 1px, transparent 1px);
    background-size: 40px 40px;
    z-index: -1;
    opacity: 0.4;
    pointer-events: none;
    animation: gridPulse 15s infinite alternate;
  }
  
  @keyframes gridPulse {
    0% { opacity: 0.2; background-size: 40px 40px; }
    50% { opacity: 0.4; background-size: 42px 42px; }
    100% { opacity: 0.2; background-size: 40px 40px; }
  }

  .section-content {
    width: 100%;
    max-width: 1400px;
    padding: 2.5rem;
    display: flex;
    flex-direction: column;
    gap: 2rem;
    height: 85vh;
    max-height: 85vh;
    overflow: hidden;
    border-radius: 24px;
    background: linear-gradient(135deg, rgba(15,15,20,0.85), rgba(25,25,35,0.95));
    box-shadow: 
      0 20px 60px rgba(0,0,0,0.7),
      0 0 0 1px rgba(255,255,255,0.05),
      inset 0 0 80px rgba(0,0,0,0.3);
    position: relative;
    z-index: 1;
    animation: contentFadeIn 1s ease-out forwards;
    transform: translateZ(0);
    
    /* Efeito de borda brilhante */
    &::before {
      content: '';
      position: absolute;
      inset: -1px;
      border-radius: 25px;
      background: linear-gradient(
        45deg,
        transparent,
        rgba($accent, 0.1),
        rgba($accent-light, 0.2),
        rgba($accent, 0.1),
        transparent
      );
      z-index: -1;
      animation: borderGlow 8s linear infinite;
    }
    
    /* Efeito de reflexo na superfície */
    &::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 100%;
      background: linear-gradient(
        to bottom,
        rgba(255,255,255,0.05),
        transparent 15%,
        transparent 85%,
        rgba(255,255,255,0.03)
      );
      pointer-events: none;
      z-index: 2;
    }
    
    @keyframes borderGlow {
      0%, 100% { opacity: 0.5; }
      50% { opacity: 0.8; }
    }
  }

  /* Header com animação de destaque aprimorada */
  .section-header { 
    text-align: center; 
    margin-bottom: 1.5rem;
    position: relative;
    padding: 1rem;
    
    /* Efeito de destaque ao redor do cabeçalho */
    &::before {
      content: '';
      position: absolute;
      inset: 0;
      border-radius: 16px;
      background: linear-gradient(135deg, rgba($accent, 0.03), rgba($accent-light, 0.05));
      z-index: -1;
      opacity: 0;
      transform: scale(0.95);
      animation: headerGlow 5s ease-in-out infinite alternate;
    }
    
    @keyframes headerGlow {
      0% { opacity: 0; transform: scale(0.95); }
      100% { opacity: 1; transform: scale(1); }
    }
    
    .section-title {
      position: relative;
      display: inline-block;
      font-size: 2.8rem;
      margin-bottom: 0.8rem;
      font-weight: 700;
      letter-spacing: -0.02em;
      text-shadow: 0 2px 10px rgba(0,0,0,0.2);
      transform: translateZ(10px);
      
      .highlight {
        color: $accent;
        position: relative;
        display: inline-block;
        animation: highlightPulse 3s infinite;
        
        &::after {
          content: '';
          position: absolute;
          bottom: -5px;
          left: 0;
          width: 100%;
          height: 2px;
          background: linear-gradient(90deg, transparent, $accent, transparent);
          animation: lineGlow 3s infinite;
          box-shadow: 0 0 8px rgba($accent, 0.5);
        }
        
        /* Efeito de partículas ao redor do número */
        &::before {
          content: '';
          position: absolute;
          width: 40px;
          height: 40px;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          border-radius: 50%;
          background: radial-gradient(circle, rgba($accent, 0.1), transparent 70%);
          z-index: -1;
          animation: pulseHighlight 3s infinite;
        }
        
        @keyframes pulseHighlight {
          0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 0.5; }
          50% { transform: translate(-50%, -50%) scale(1.5); opacity: 0.2; }
        }
      }
    }
    
    .section-subtitle {
      color: $text-secondary;
      font-size: 1.2rem;
      letter-spacing: 0.05em;
      opacity: 0;
      animation: fadeInUp 0.8s 0.3s forwards;
      position: relative;
      display: inline-block;
      padding: 0.5rem 1.5rem;
      
      /* Linha decorativa */
      &::before, &::after {
        content: '';
        position: absolute;
        height: 1px;
        width: 30px;
        background: linear-gradient(90deg, transparent, rgba($accent-light, 0.3), transparent);
        top: 50%;
      }
      
      &::before {
        left: -20px;
      }
      
      &::after {
        right: -20px;
      }
    }
  }

  /* CSS variables for parallax and micro-interactions */
  :root, & {
    --px: 0; /* parallax x */
    --py: 0; /* parallax y */
    --rotation: 0; /* rotation for cards */
  }

  /* Timeline container: grid de cards com efeitos 3D avançados */
  .experience-timeline {
    width: 100%;
    position: relative;
    height: calc(85vh - 200px);
    overflow: visible;
    padding: 1rem;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
    perspective: 1800px;
    transform-style: preserve-3d;
    
    /* Efeito de névoa no fundo */
    &::after {
      content: '';
      position: absolute;
      inset: 0;
      background: 
        radial-gradient(circle at 20% 30%, rgba($accent, 0.03), transparent 40%),
        radial-gradient(circle at 80% 70%, rgba($accent-light, 0.03), transparent 40%);
      filter: blur(20px);
      z-index: -2;
      opacity: 0.6;
      animation: fogEffect 15s infinite alternate;
    }
    
    @keyframes fogEffect {
      0% { opacity: 0.4; transform: translateY(0); }
      50% { opacity: 0.6; transform: translateY(-5px); }
      100% { opacity: 0.4; transform: translateY(0); }
    }
    
    /* Linha central com efeito de brilho aprimorado */
    &::before {
      content: '';
      position: absolute;
      top: 0;
      left: 50%;
      height: 100%;
      width: 2px;
      background: linear-gradient(to bottom, 
        transparent, 
        rgba($accent, 0.3), 
        rgba($accent-light, 0.5), 
        rgba($accent, 0.3), 
        transparent);
      transform: translateX(-50%);
      z-index: -1;
      filter: blur(1px);
      animation: lineGlow 4s infinite alternate;
      box-shadow: 
        0 0 10px rgba($accent, 0.2),
        0 0 20px rgba($accent-light, 0.1);
    }

    /* Cada item da timeline com efeito 3D aprimorado */
    .timeline-item {
      display: flex;
      gap: 1.2rem;
      align-items: flex-start;
      padding: 1.5rem;
      border-radius: 20px;
      @include glass-morphism(0.06, 15px);
      transform-style: preserve-3d;
      transform-origin: center;
      position: relative;
      min-height: 120px;
      overflow: hidden;
      transition: all 0.5s cubic-bezier(0.23, 1, 0.32, 1);
      
      /* Efeito de profundidade aprimorado */
      &::before {
        content: '';
        position: absolute;
        inset: 0;
        background: radial-gradient(
          circle at var(--x, 50%) var(--y, 50%), 
          rgba($accent, 0.12),
          transparent 70%
        );
        opacity: 0;
        transition: opacity 0.5s;
        z-index: -1;
        mix-blend-mode: screen;
      }
      
      /* Efeito de borda brilhante aprimorado */
      &::after {
        content: '';
        position: absolute;
        inset: -1px;
        border-radius: 21px;
        background: linear-gradient(
          45deg, 
          transparent, 
          rgba($accent, 0.15), 
          rgba($accent-light, 0.2),
          rgba($accent, 0.15),
          transparent
        );
        opacity: 0;
        transition: opacity 0.5s;
        z-index: -2;
        filter: blur(1px);
      }
      
      /* Efeito de partículas no fundo */
      &::nth-child(1) {
        content: '';
        position: absolute;
        inset: 0;
        background-image: 
          radial-gradient(circle at 20% 30%, rgba($accent, 0.05) 1px, transparent 1px),
          radial-gradient(circle at 80% 70%, rgba($accent-light, 0.05) 1px, transparent 1px);
        background-size: 20px 20px, 25px 25px;
        opacity: 0;
        transition: opacity 0.8s;
        z-index: -3;
      }

      /* Animação de entrada com escalonamento aprimorada */
      opacity: 0;
      transform: 
        perspective(1200px)
        rotateX(calc(var(--py) * 0.01deg))
        rotateY(calc(var(--px) * -0.01deg))
        translateY(30px)
        scale(0.92);
      animation: itemIn 0.9s cubic-bezier(0.23, 1, 0.32, 1) forwards;
      animation-delay: calc(var(--animation-delay, 0s) + 0.2s);
      
      @keyframes itemIn {
        0% {
          opacity: 0;
          transform: 
            perspective(1200px)
            rotateX(5deg)
            rotateY(-2deg)
            translateY(30px)
            scale(0.92);
        }
        100% {
          opacity: 1;
          transform: 
            perspective(1200px)
            rotateX(calc(var(--py) * 0.01deg))
            rotateY(calc(var(--px) * -0.01deg))
            translateY(0)
            scale(1);
        }
      }
      
      /* Efeitos de hover super avançados */
      &:hover {
        transform: 
          perspective(1200px)
          rotateX(calc(var(--py) * 0.025deg))
          rotateY(calc(var(--px) * -0.025deg))
          translateY(-12px)
          scale(1.04);
        box-shadow: 
          0 25px 50px rgba(0,0,0,0.7),
          0 0 0 1px rgba($accent,0.15),
          0 0 30px rgba($accent,0.25);
          
        &::before { 
          opacity: 1; 
          animation: lightMove 3s infinite alternate;
        }
        
        &::after { 
          opacity: 1; 
          animation: borderPulse 3s infinite;
        }
        
        &::nth-child(1) {
          opacity: 0.8;
          animation: particleFade 5s infinite alternate;
        }
        
        .timeline-dot .dot-inner {
          transform: scale(1.2);
          box-shadow: 
            0 0 0 4px rgba($accent, 0.25),
            0 0 30px rgba($accent, 0.5);
          animation: rotateDot 5s linear infinite;
        }
        
        .card-title {
          background-size: 100% 2px;
          text-shadow: 0 0 5px rgba($accent, 0.3);
        }
        
        .tech-stack .tech-item {
          transform: translateY(-3px);
          background: rgba($accent, 0.15);
          box-shadow: 0 5px 10px rgba(0,0,0,0.2);
          animation: techItemPulse 2s infinite alternate;
        }
      }
      
      @keyframes lightMove {
        0% { background-position: 0% 0%; }
        100% { background-position: 100% 100%; }
      }
      
      @keyframes borderPulse {
        0%, 100% { opacity: 0.7; filter: blur(1px); }
        50% { opacity: 1; filter: blur(0.5px); }
      }
      
      @keyframes particleFade {
        0%, 100% { opacity: 0.5; background-size: 20px 20px, 25px 25px; }
        50% { opacity: 0.8; background-size: 22px 22px, 27px 27px; }
      }
      
      @keyframes rotateDot {
        0% { transform: scale(1.2) rotate(0deg); }
        100% { transform: scale(1.2) rotate(360deg); }
      }
      
      @keyframes techItemPulse {
        0% { transform: translateY(-3px); }
        100% { transform: translateY(-5px); }
      }

      /* Estado ativo com efeitos especiais aprimorados */
      &.active {
        transform: 
          perspective(1200px)
          rotateX(calc(var(--py) * 0.02deg))
          rotateY(calc(var(--px) * -0.02deg))
          translateY(-18px)
          scale(1.06);
        box-shadow: 
          0 30px 70px rgba(0,0,0,0.8),
          0 0 0 2px rgba($accent,0.2),
          0 0 40px rgba($accent,0.35);
        z-index: 10;
        
        &::before { 
          opacity: 1; 
          animation: activeLight 4s infinite alternate;
        }
        
        &::after { 
          opacity: 1; 
          animation: activeBorder 3s infinite;
        }
        
        &::nth-child(1) {
          opacity: 1;
        }
        
        .timeline-dot .dot-inner {
          transform: scale(1.25);
          box-shadow: 
            0 0 0 6px rgba($accent, 0.3),
            0 0 50px rgba($accent, 0.6);
          animation: activeRotateDot 4s linear infinite;
        }
        
        .timeline-dot .dot-pulse {
          animation: activePulse 1.5s infinite;
        }
        
        .card-title {
          color: $accent-light;
          text-shadow: 0 0 8px rgba($accent, 0.4);
        }
      }
      
      @keyframes activeLight {
        0% { opacity: 0.7; background-position: 0% 0%; }
        100% { opacity: 1; background-position: 100% 100%; }
      }
      
      @keyframes activeBorder {
        0%, 100% { opacity: 0.8; filter: blur(0.5px); }
        50% { opacity: 1; filter: blur(0px); }
      }
      
      @keyframes activeRotateDot {
        0% { transform: scale(1.25) rotate(0deg); }
        100% { transform: scale(1.25) rotate(360deg); }
      }
      
      @keyframes activePulse {
        0%, 100% { transform: translate(-50%,-50%) scale(1); opacity: 0.5; }
        50% { transform: translate(-50%,-50%) scale(1.3); opacity: 0.8; }
      }

      /* Ponto da timeline com efeitos de luz avançados */
      .timeline-dot {
        flex: 0 0 60px;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        z-index: 2;
        transform: translateZ(20px);

        .dot-inner {
          width: 48px; 
          height: 48px; 
          border-radius: 50%;
          display: grid; 
          place-items: center;
          color: #fff;
          background: linear-gradient(135deg, $accent, $accent-light);
          box-shadow: 
            0 10px 30px rgba($accent,0.4), 
            inset 0 -8px 16px rgba(0,0,0,0.3),
            0 0 0 3px rgba($accent, 0.15),
            inset 0 2px 4px rgba(255,255,255,0.2);
          transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
          position: relative;
          overflow: hidden;
          @include neon-glow($accent, 0.5);
          
          /* Efeito de brilho interno aprimorado */
          &::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(
              circle at center,
              rgba(255,255,255,0.9),
              transparent 70%
            );
            opacity: 0.15;
            transform: rotate(30deg);
            animation: shineEffect 8s infinite linear;
          }
          
          /* Efeito de borda interna */
          &::before {
            content: '';
            position: absolute;
            inset: 2px;
            border-radius: 50%;
            background: linear-gradient(135deg, rgba($accent-light, 0.2), rgba($accent, 0.1));
            z-index: -1;
            opacity: 0.5;
          }
          
          i {
            font-size: 1.3rem;
            filter: drop-shadow(0 2px 6px rgba(0,0,0,0.4));
            animation: iconPulse 3s infinite alternate;
            position: relative;
            z-index: 2;
            
            /* Efeito de brilho no ícone */
            &::after {
              content: '';
              position: absolute;
              inset: -8px;
              background: radial-gradient(circle, rgba(255,255,255,0.8), transparent 70%);
              opacity: 0;
              z-index: -1;
              border-radius: 50%;
              transition: opacity 0.3s;
            }
          }
          
          &:hover i::after {
            opacity: 0.4;
            animation: iconGlow 1.5s infinite alternate;
          }
        }
        
        .dot-pulse {
          position: absolute;
          width: 90px; 
          height: 90px; 
          border-radius: 50%;
          left: 50%; 
          top: 50%; 
          transform: translate(-50%,-50%);
          background: radial-gradient(circle, rgba($accent,0.2), transparent 70%);
          animation: pulse 2.5s infinite;
          pointer-events: none;
          filter: blur(10px);
          mix-blend-mode: screen;
          
          /* Segunda camada de pulso */
          &::after {
            content: '';
            position: absolute;
            width: 120%;
            height: 120%;
            border-radius: 50%;
            left: -10%;
            top: -10%;
            background: radial-gradient(circle, rgba($accent-light,0.1), transparent 70%);
            animation: secondaryPulse 3s infinite 0.5s;
            filter: blur(8px);
          }
        }
      }
      
      @keyframes shineEffect {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
      
      @keyframes iconGlow {
        0% { opacity: 0.2; transform: scale(1); }
        100% { opacity: 0.5; transform: scale(1.2); }
      }
      
      @keyframes pulse {
        0%, 100% { transform: translate(-50%,-50%) scale(0.8); opacity: 0.3; }
        50% { transform: translate(-50%,-50%) scale(1.1); opacity: 0.6; }
      }
      
      @keyframes secondaryPulse {
        0%, 100% { transform: scale(0.9); opacity: 0.2; }
        50% { transform: scale(1.2); opacity: 0.4; }
      }

      /* Card de conteúdo com efeitos de profundidade aprimorados */
      .timeline-card {
        flex: 1 1 auto;
        display: flex;
        flex-direction: column;
        gap: 0.8rem;
        transform: translateZ(15px);
        position: relative;
        
        /* Efeito de brilho sutil no card */
        &::before {
          content: '';
          position: absolute;
          inset: -10px;
          background: radial-gradient(
            circle at var(--x, 50%) var(--y, 50%),
            rgba($accent-light, 0.05),
            transparent 70%
          );
          opacity: 0;
          z-index: -1;
          transition: opacity 0.5s;
          border-radius: 15px;
          filter: blur(5px);
        }
        
        &:hover::before {
          opacity: 1;
        }
      }

      /* Cabeçalho do card com efeitos de gradiente aprimorados */
      .card-header {
        display: flex; 
        justify-content: space-between; 
        gap: 1rem; 
        align-items: center;
        margin-bottom: 0.2rem;
        
        .year-badge { 
          background: linear-gradient(135deg, rgba($accent,0.15), rgba($accent-light,0.2));
          color: $accent-light; 
          padding: 0.5rem 1rem; 
          border-radius: 999px; 
          font-weight: 700; 
          font-size: .9rem;
          box-shadow: 
            0 4px 12px rgba(0,0,0,0.15),
            inset 0 1px 2px rgba(255,255,255,0.1);
          transition: all 0.3s cubic-bezier(0.23, 1, 0.32, 1);
          position: relative;
          overflow: hidden;
          
          /* Efeito de brilho interno */
          &::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(
              circle at center,
              rgba(255,255,255,0.8),
              transparent 70%
            );
            opacity: 0.1;
            transform: rotate(-30deg);
            transition: transform 0.5s;
          }
          
          &:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 
              0 6px 18px rgba($accent,0.25),
              inset 0 1px 2px rgba(255,255,255,0.2);
            color: #fff;
            
            &::after {
              transform: rotate(0deg);
              opacity: 0.2;
            }
          }
        }
        
        .type-badge { 
          color: $text-secondary; 
          font-size: .8rem; 
          text-transform: uppercase; 
          letter-spacing: .1em;
          font-weight: 600;
          position: relative;
          padding: 0.3rem 0;
          transition: all 0.3s;
          
          &::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba($accent,0.3), transparent);
          }
        }
      }

      /* Título com efeito de sublinhado animado e destaque aprimorado */
      .card-title { 
        font-size: 1.15rem; 
        font-weight: 700; 
        color: $text-primary; 
        margin-top: .3rem;
        background-image: linear-gradient(90deg, $accent, $accent-light);
        background-repeat: no-repeat;
        background-position: 0 100%;
        background-size: 0% 2px;
        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        padding-bottom: 3px;
        position: relative;
        display: inline-block;
        
        &::before {
          content: '';
          position: absolute;
          left: -5px;
          top: 50%;
          height: 0;
          width: 3px;
          background: $accent;
          transform: translateY(-50%);
          opacity: 0;
          transition: all 0.3s ease;
        }
        
        &:hover {
          color: $accent-light;
          transform: translateX(5px);
          text-shadow: 0 0 15px rgba($accent, 0.3);
          
          &::before {
            height: 80%;
            opacity: 1;
          }
        }
      }

      /* Descrição com efeito de fade e borda dinâmica */
      .card-description {
        color: $text-secondary;
        font-size: .95rem;
        line-height: 1.6;
        max-height: 4.5rem; /* ~3 linhas */
        overflow: hidden;
        text-overflow: ellipsis;
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
        position: relative;
        padding-left: 0.5rem;
        border-left: 2px solid rgba($accent, 0.2);
        transition: all 0.3s;
        
        &:hover {
          border-left-color: rgba($accent, 0.6);
          padding-left: 0.8rem;
        }
        
        &::after {
          content: '';
          position: absolute;
          bottom: 0;
          right: 0;
          width: 30%;
          height: 1.5rem;
          background: linear-gradient(90deg, transparent, rgba(15,15,20,0.9) 70%);
          pointer-events: none;
        }
      }

      /* Stack de tecnologias com efeitos de hover aprimorados */
      .tech-stack {
        display: flex; 
        flex-wrap: wrap; 
        gap: 0.6rem; 
        margin-top: .8rem;
        
        .tech-item {
          font-size: .8rem; 
          padding: .3rem .7rem; 
          border-radius: 12px;
          background: rgba($accent,0.08); 
          color: $accent; 
          font-weight: 600;
          transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
          position: relative;
          overflow: hidden;
          
          &::before {
            content: '';
            position: absolute;
            top: -100%;
            left: -100%;
            width: 300%;
            height: 300%;
            background: radial-gradient(
              circle at center,
              rgba(255,255,255,0.8),
              transparent 70%
            );
            opacity: 0;
            transition: opacity 0.5s;
            transform: rotate(30deg);
          }
          
          /* Efeito de borda brilhante */
          &::after {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: inherit;
            padding: 1px;
            background: linear-gradient(135deg, transparent, rgba($accent, 0), rgba($accent-light, 0.3), transparent);
            -webkit-mask: 
              linear-gradient(#fff 0 0) content-box, 
              linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            opacity: 0;
            transition: opacity 0.3s;
          }
          
          &:hover {
            transform: translateY(-5px);
            background: rgba($accent,0.2);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            
            &::before {
              opacity: 0.1;
              animation: techGlow 2s infinite alternate;
            }
            
            &::after {
              opacity: 1;
              animation: borderRotate 2s linear infinite;
            }
          }
          
          @keyframes techGlow {
            0% { transform: translate(-50%, -50%) scale(1); opacity: 0.1; }
            100% { transform: translate(-50%, -50%) scale(1.2); opacity: 0.2; }
          }
          
          @keyframes borderRotate {
            0% { background-position: 0% 0%; }
            100% { background-position: 200% 0%; }
          }
        }
        
        .tech-more { 
          font-size: .8rem; 
          padding: .3rem .7rem; 
          border-radius: 12px; 
          background: rgba(255,255,255,0.05); 
          color: $text-secondary;
          transition: all 0.4s cubic-bezier(0.19, 1, 0.22, 1);
          
          &:hover {
            background: rgba(255,255,255,0.1);
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
          }
        }
      }
    } /* timeline-item */

    /* Efeito parallax avançado no container */
    &.parallax {
      transform: 
        perspective(1200px) 
        translateZ(0) 
        rotateX(calc(var(--py) * 0.01deg)) 
        rotateY(calc(var(--px) * -0.01deg));
      transition: transform 0.3s cubic-bezier(0.23, 1, 0.32, 1);
    }
  } /* experience-timeline */

  /* Controles de navegação com efeitos de hover aprimorados */
  .timeline-controls {
    display: flex; 
    gap: 1.5rem; 
    justify-content: center; 
    align-items: center; 
    margin-top: 1.2rem;
    
    .control-btn {
      width: 54px; 
      height: 54px; 
      border-radius: 50%; 
      background: rgba(255,255,255,0.03);
      border: 1px solid rgba(255,255,255,0.08);
      color: $accent; 
      display: grid; 
      place-items: center;
      transition: all 0.4s cubic-bezier(0.19, 1, 0.22, 1);
      position: relative;
      overflow: hidden;
      
      /* Efeito de onda ao clicar */
      &::before {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 0;
        height: 0;
        background: radial-gradient(circle, rgba($accent-light, 0.8) 0%, transparent 70%);
        transform: translate(-50%, -50%);
        border-radius: 50%;
        opacity: 0;
        transition: width 0.6s, height 0.6s, opacity 0.6s;
        z-index: -1;
      }
      
      /* Efeito de brilho */
      &::after {
        content: '';
        position: absolute;
        inset: 0;
        background: linear-gradient(135deg, $accent, $accent-light);
        opacity: 0;
        transition: opacity 0.3s;
        z-index: -1;
        filter: blur(0.5px);
      }
      
      &:hover:not(:disabled) { 
        transform: translateY(-5px) scale(1.1);
        box-shadow: 
          0 10px 25px rgba(0,0,0,0.3),
          0 0 20px rgba($accent, 0.2);
        color: #fff;
        
        &::after {
          opacity: 1;
        }
      }
      
      &:active::before {
        width: 150px;
        height: 150px;
        opacity: 0.3;
        transition: width 0.4s, height 0.4s, opacity 0.4s;
      }
      
      &:disabled { 
        opacity: .3; 
        cursor: not-allowed; 
        transform: none;
        filter: grayscale(1);
      }
      
      &:focus { 
        outline: none;
        box-shadow: 
          0 0 0 3px rgba($accent,0.3), 
          0 10px 25px rgba(0,0,0,0.3),
          0 0 15px rgba($accent, 0.3);
      }
      
      i {
        font-size: 1.2rem;
        position: relative;
        z-index: 1;
        transition: transform 0.3s;
      }
      
      &.prev:hover i { transform: translateX(-5px); }
      &.next:hover i { transform: translateX(5px); }
    }
    
    .progress-indicator { 
      color: $text-secondary; 
      font-weight: 700;
      font-size: 1.1rem;
      position: relative;
      padding: 0.5rem 1rem;
      border-radius: 12px;
      background: rgba(255,255,255,0.03);
      
      .current {
        color: $accent;
        font-size: 1.3rem;
      }
      
      .divider {
        margin: 0 0.3rem;
        opacity: 0.5;
      }
    }
  }

  /* Responsividade melhorada */
  @media (max-width: 1200px) {
    .experience-timeline { 
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 1.2rem;
    }
  }
  
  @media (max-width: 900px) {
    .section-content { 
      padding: 1.5rem; 
      max-width: 95vw;
      height: 88vh;
      max-height: 88vh;
    }
    
    .experience-timeline { 
      grid-template-columns: 1fr;
      height: calc(88vh - 180px);
      gap: 1rem;
      padding: 0.8rem;
    }
    
    .timeline-item { 
      min-height: 100px;
      padding: 1rem;
    }
    
    .section-header .section-title {
      font-size: 2rem;
    }
  }
  
  @media (max-width: 600px) {
    padding: 1rem 0.5rem;
    
    .section-content {
      padding: 1rem;
      border-radius: 16px;
    }
    
    .timeline-item .timeline-dot {
      flex: 0 0 40px;
      
      .dot-inner {
        width: 36px;
        height: 36px;
      }
    }
    
    .card-title {
      font-size: 1rem;
    }
  }
}

/* Animações avançadas */
@keyframes pulse {
  0% { transform: translate(-50%, -50%) scale(0.9); opacity: 0.6; }
  50% { transform: translate(-50%, -50%) scale(1.2); opacity: 0.2; }
  100% { transform: translate(-50%, -50%) scale(0.9); opacity: 0.6; }
}

@keyframes itemIn {
  0% { 
    opacity: 0; 
    transform: 
      perspective(1000px)
      rotateX(calc(var(--py) * 0.01deg))
      rotateY(calc(var(--px) * -0.01deg))
      translateY(30px)
      scale(0.95);
  }
  100% { 
    opacity: 1; 
    transform: 
      perspective(1000px)
      rotateX(calc(var(--py) * 0.01deg))
      rotateY(calc(var(--px) * -0.01deg))
      translateY(0)
      scale(1);
  }
}

@keyframes contentFadeIn {
  0% { opacity: 0; transform: translateY(20px); }
  100% { opacity: 1; transform: translateY(0); }
}

@keyframes fadeInUp {
  0% { opacity: 0; transform: translateY(10px); }
  100% { opacity: 1; transform: translateY(0); }
}

@keyframes highlightPulse {
  0% { text-shadow: 0 0 5px rgba($accent, 0.3); }
  50% { text-shadow: 0 0 15px rgba($accent, 0.6); }
  100% { text-shadow: 0 0 5px rgba($accent, 0.3); }
}

@keyframes lineGlow {
  0% { opacity: 0.3; filter: blur(1px); }
  50% { opacity: 0.8; filter: blur(2px); }
  100% { opacity: 0.3; filter: blur(1px); }
}

@keyframes iconPulse {
  0% { transform: scale(1); }
  100% { transform: scale(1.15); }
}

/* Respect user's reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  .experience-section, .timeline-item, .dot-pulse, .section-content, 
  .section-title .highlight, .section-subtitle, .timeline-dot .dot-inner i,
  .experience-section::before, .experience-section::after {
    transition: none !important; 
    animation: none !important; 
    transform: none !important;
  }
}