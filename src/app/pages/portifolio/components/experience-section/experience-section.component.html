<section class="fullpage-section experience-section" id="experience">
  <div class="section-content">
    <h2 class="section-title"><span class="highlight">02.</span> Experiência</h2>
    
    <div class="experience-intro">
      <p>
        Minha jornada no desenvolvimento de software inclui experiências acadêmicas, 
        projetos práticos e aprendizado contínuo em tecnologias modernas.
      </p>
    </div>

    <div class="experience-container">
      <!-- Main Experience List -->
      <div class="experience-list" [class.slide-left]="dialogIndex !== null">
        <div 
          *ngFor="let exp of experiences; let i = index" 
          class="experience-item"
          [style.animation-delay]="(i * 0.1) + 's'">
          
          <div class="experience-card" (click)="openDialog(i)">
            <div class="card-timeline">
              <div class="timeline-dot"></div>
              <div class="timeline-line" *ngIf="i < experiences.length - 1"></div>
            </div>
            
            <div class="card-content">
              <div class="card-header">
                <span class="year">{{exp.year}}</span>
                <span class="type">{{exp.type || 'Formação'}}</span>
              </div>
              
              <h3 class="title">{{exp.title}}</h3>
              
              <div class="preview-description" *ngIf="exp.description">
                {{exp.description.length > 80 ? (exp.description | slice:0:80) + '...' : exp.description}}
              </div>
              
              <div class="card-footer">
                <div class="tech-preview" *ngIf="exp.technologies?.length">
                  <span *ngFor="let tech of exp.technologies | slice:0:3" class="tech-pill">
                    {{tech}}
                  </span>
                  <span *ngIf="exp.technologies && exp.technologies.length > 3" class="more-tech">
                    +{{exp.technologies.length - 3}}
                  </span>
                </div>
                <div class="expand-hint">
                  <i class="fas fa-chevron-right"></i>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Slide Details Panel -->
      <div class="experience-details" [class.active]="dialogIndex !== null">
        <div class="details-header">
          <button class="back-btn" (click)="closeDialog()">
            <i class="fas fa-arrow-left"></i>
            <span>Voltar</span>
          </button>
        </div>

        <div class="details-content" *ngIf="dialogIndex !== null">
          <div class="details-hero">
            <h2 class="details-title">{{getSelectedExperience()?.title}}</h2>
            <div class="details-meta">
              <span class="meta-year">{{getSelectedExperience()?.year}}</span>
              <span class="meta-type">{{getSelectedExperience()?.type || 'Experiência'}}</span>
            </div>
          </div>

          <div class="details-scroll">
            <div class="details-description">
              <p>{{getSelectedExperience()?.description}}</p>
            </div>
            
            <div class="details-section" *ngIf="getSelectedExperience()?.details?.length">
              <h4>Principais atividades</h4>
              <ul class="activities-list">
                <li *ngFor="let detail of getSelectedExperience()?.details">
                  <i class="fas fa-check"></i>
                  <span>{{detail}}</span>
                </li>
              </ul>
            </div>

            <div class="details-section" *ngIf="getSelectedExperience()?.technologies?.length">
              <h4>Tecnologias utilizadas</h4>
              <div class="tech-grid">
                <span class="tech-tag" *ngFor="let tech of getSelectedExperience()?.technologies">
                  {{tech}}
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>