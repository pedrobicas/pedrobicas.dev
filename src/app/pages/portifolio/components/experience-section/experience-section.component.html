<section class="fullpage-section experience-section" id="experience">
  <div class="section-content">
    <h2 class="section-title"><span class="highlight">02.</span> Experiência</h2>
    
    <div class="experience-intro">
      <p>
        Minha jornada no desenvolvimento de software inclui experiências acadêmicas, 
        projetos práticos e aprendizado contínuo em tecnologias modernas.
      </p>
    </div>

    <div class="experience-list">
      <div 
        *ngFor="let exp of experiences; let i = index" 
        class="experience-item"
        [style.animation-delay]="(i * 0.15) + 's'">
        
        <div class="experience-card">
          <div class="card-header">
            <div class="year-badge">{{exp.year}}</div>
            <div class="type-badge">{{exp.type || 'Formação'}}</div>
          </div>
          
          <div class="card-content">
            <h3 class="experience-title">{{exp.title}}</h3>
            
            <div class="card-footer">
              <div class="tech-count" *ngIf="exp.technologies?.length">
                <i class="fas fa-code"></i>
                <span>{{exp.technologies?.length}} tecnologias</span>
              </div>
              <button class="details-btn" (click)="openDialog(i)">
                <span>Ver detalhes</span>
                <i class="fas fa-arrow-right"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Dialog Modal -->
  <div class="dialog-backdrop" *ngIf="dialogIndex !== null" (click)="closeDialog()">
    <div class="experience-dialog" (click)="$event.stopPropagation()">
      <div class="dialog-header">
        <button class="close-btn" (click)="closeDialog()" aria-label="Fechar">
          <i class="fas fa-times"></i>
        </button>
        <div class="dialog-info">
          <h2 class="dialog-title">{{getSelectedExperience()?.title}}</h2>
          <div class="dialog-meta">
            <span class="dialog-year">{{getSelectedExperience()?.year}}</span>
            <span class="dialog-type">{{getSelectedExperience()?.type || 'Experiência'}}</span>
          </div>
        </div>
      </div>

      <div class="dialog-scroll">
        <div class="dialog-content">
          <p class="dialog-description">{{getSelectedExperience()?.description}}</p>
          
          <div class="dialog-details" *ngIf="getSelectedExperience()?.details?.length">
            <h4><i class="fas fa-tasks"></i> Principais atividades:</h4>
            <ul class="details-list">
              <li *ngFor="let detail of getSelectedExperience()?.details">
                <i class="fas fa-check-circle"></i>
                <span>{{detail}}</span>
              </li>
            </ul>
          </div>

          <div class="dialog-technologies" *ngIf="getSelectedExperience()?.technologies?.length">
            <h4><i class="fas fa-code"></i> Tecnologias utilizadas:</h4>
            <div class="tech-grid">
              <span class="tech-tag" *ngFor="let tech of getSelectedExperience()?.technologies">
                {{tech}}
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>